# Rednote-Mind-MCP

> è®©AIæ¥å…¥ä½ çš„å°çº¢ä¹¦ï¼Œå°±åƒèƒ½å¤Ÿäº†è§£ä½ çš„å¤‡å¿˜å½•ä¸€æ ·

[![npm version](https://badge.fury.io/js/rednote-mind-mcp.svg)](https://www.npmjs.com/package/rednote-mind-mcp)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)](https://nodejs.org/)

---

## ğŸ¯ æ ¸å¿ƒä»·å€¼

**ä¸€å¥è¯**ï¼š3æ¡å‘½ä»¤å®‰è£…å®Œæˆï¼Œè®©Claude/Cursor/VSCodeç­‰AIåŠ©æ‰‹ç›´æ¥è®¿é—®ä½ çš„å°çº¢ä¹¦æ”¶è—å¤¹å’Œæœç´¢å†…å®¹ï¼Œè‡ªåŠ¨åˆ†æç¬”è®°ã€æå–å…³é”®ä¿¡æ¯ã€ç”Ÿæˆç»“æ„åŒ–æŠ¥å‘Šã€‚

### è§£å†³ä»€ä¹ˆé—®é¢˜

ä½ åœ¨å°çº¢ä¹¦ç§¯ç´¯äº†100+ç¯‡æœ‰ä»·å€¼çš„æ”¶è—ç¬”è®°ï¼ˆè®ºæ–‡åˆ†äº«ã€æŠ€æœ¯æ•™ç¨‹ã€ç¾é£Ÿèœè°±ï¼‰ï¼Œæƒ³è®©AIå¸®ä½ æ•´ç†åˆ†æï¼Œä½†é‡åˆ°ï¼š

- **å°çº¢ä¹¦æ— å¯¼å‡ºåŠŸèƒ½** - æ”¶è—å¤¹å†…å®¹æ— æ³•æ‰¹é‡å¯¼å‡º
- **æ‰‹åŠ¨å¤åˆ¶ç¹ç** - ä¸€æ¡æ¡å¤åˆ¶URLå’Œæ ‡é¢˜ï¼ˆ30ç§’/ç¯‡ï¼‰
- **AIæ— æ³•è®¿é—®** - Claudeç­‰AIåŠ©æ‰‹æ— æ³•ç›´æ¥è¯»å–å°çº¢ä¹¦å†…å®¹

### è¿™ä¸ªå·¥å…·å¦‚ä½•å¸®ä½ 

```
å®‰è£… Rednote-Mind-MCPï¼ˆ1åˆ†é’Ÿï¼‰
          â†“
é¦–æ¬¡è¿è¡Œ initï¼Œæ‰«ç ç™»å½•å°çº¢ä¹¦ï¼ˆ10ç§’ï¼‰
          â†“
åœ¨Claude Desktopä¸­ç›´æ¥æé—®ï¼ˆæ— éœ€æ‰‹åŠ¨å¤åˆ¶URLï¼‰ï¼š
"åˆ†ææˆ‘æ”¶è—å¤¹ä¸­æœ€è¿‘20ç¯‡AIè®ºæ–‡ç¬”è®°ï¼Œæå–å…³é”®è®ºæ–‡"
          â†“
Claudeè‡ªåŠ¨è°ƒç”¨MCPå·¥å…·ï¼š
  1. è·å–æ”¶è—å¤¹åˆ—è¡¨ï¼ˆå¸¦xsec_tokençš„å®Œæ•´URLï¼‰
  2. æ‰¹é‡æå–æ¯ç¯‡ç¬”è®°å†…å®¹ï¼ˆæ ‡é¢˜+æ­£æ–‡+å›¾ç‰‡ï¼‰
  3. ä½¿ç”¨Claude Visionåˆ†æå›¾ç‰‡ä¸­çš„å›¾è¡¨/å…¬å¼
  4. ç”Ÿæˆç»“æ„åŒ–æŠ¥å‘Šï¼ˆ3åˆ†é’Ÿè‡ªåŠ¨å®Œæˆï¼‰
          â†“
è·å¾—ï¼šè®ºæ–‡æ¸…å•ã€æ ¸å¿ƒè§‚ç‚¹ã€å…³é”®å›¾è¡¨ã€å‚è€ƒä»·å€¼
```

**æ—¶é—´å¯¹æ¯”**ï¼š

| ä»»åŠ¡ | æ‰‹åŠ¨æ–¹å¼ | ä½¿ç”¨ Rednote-Mind-MCP | èŠ‚çœæ—¶é—´ |
|------|---------|----------------------|---------|
| æ•´ç†20ç¯‡ç¬”è®° | 30ç§’/ç¯‡ Ã— 20 + 60åˆ†é’Ÿé˜…è¯» = **70åˆ†é’Ÿ** | 1åˆ†é’Ÿé…ç½® + 3åˆ†é’ŸAIåˆ†æ = **4åˆ†é’Ÿ** | **94%** |
| æœç´¢"AIè®ºæ–‡"å¹¶æå–TOP10 | æ‰‹åŠ¨æ‰“å¼€10ç¯‡+ç¬”è®° = **15åˆ†é’Ÿ** | 1æ¡Claudeæé—® = **2åˆ†é’Ÿ** | **87%** |

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 7ä¸ªå¼ºå¤§çš„MCPå·¥å…·

#### ğŸ” è®¤è¯å·¥å…·
- `check_login_status` - æ£€æŸ¥ç™»å½•çŠ¶æ€ï¼ˆè‡ªåŠ¨è¯»å–æœ¬åœ°cookiesï¼‰
- `login` - å¼•å¯¼å¼ç™»å½•ï¼ˆæµè§ˆå™¨çª—å£æ‰«ç /å¯†ç ç™»å½•ï¼Œè‡ªåŠ¨ä¿å­˜å‡­è¯ï¼‰

#### ğŸ“¥ å†…å®¹è·å–å·¥å…·ï¼ˆæ™ºèƒ½æå–xsec_tokenï¼‰
- `get_favorites_list` - è·å–æ”¶è—å¤¹ç¬”è®°åˆ—è¡¨
  - âœ… **è‡ªåŠ¨æå–çœŸå®ç”¨æˆ·ID**ï¼ˆä¸å†ä½¿ç”¨`/me`è·¯å¾„ï¼‰
  - âœ… **è‡ªåŠ¨ç‚¹å‡»æå–xsec_token**ï¼ˆç¡®ä¿åç»­èƒ½è®¿é—®ç¬”è®°å†…å®¹ï¼‰
- `get_note_content` - è·å–ç¬”è®°å®Œæ•´å†…å®¹
  - æ”¯æŒ`includeImages`å‚æ•°ï¼šä¸‹è½½å›¾ç‰‡ä¸ºBase64ï¼Œä¾›Claude Visionåˆ†æ
  - æ”¯æŒ`includeData`å‚æ•°ï¼šè·å–ç‚¹èµæ•°ã€è¯„è®ºæ•°ã€æ”¶è—æ•°ç­‰ç»Ÿè®¡æ•°æ®
- `get_batch_notes_from_favorites` - æ‰¹é‡è·å–æ”¶è—å¤¹å†…å®¹
  - ä¸€æ¬¡è°ƒç”¨è·å–Nç¯‡ç¬”è®°çš„å®Œæ•´å†…å®¹ï¼ˆæ ‡é¢˜+æ­£æ–‡+å›¾ç‰‡+æ•°æ®ï¼‰

#### ğŸ” æœç´¢å·¥å…·ï¼ˆæ™ºèƒ½æå–xsec_tokenï¼‰
- `search_notes_by_keyword` - æŒ‰å…³é”®è¯æœç´¢
  - æ”¯æŒæ’åºï¼šç»¼åˆæ’åº/æœ€çƒ­/æœ€æ–°
  - âœ… **è‡ªåŠ¨ç‚¹å‡»æå–xsec_token**ï¼ˆç¡®ä¿æœç´¢ç»“æœURLå¯è®¿é—®ï¼‰

#### ğŸ–¼ï¸ å›¾ç‰‡å·¥å…·ï¼ˆæ–°å¢æ™ºèƒ½å‹ç¼©ï¼‰
- `download_note_images` - ä¸‹è½½ç¬”è®°å›¾ç‰‡
  - **æ™ºèƒ½å‹ç¼©**ï¼šè‡ªåŠ¨å°†å›¾ç‰‡å‹ç¼©è‡³åˆç†å¤§å°ï¼ˆé»˜è®¤èŠ‚çœ 85% ä½“ç§¯ï¼‰
  - **å¯é…ç½®è´¨é‡**ï¼šæ”¯æŒ `compressImages`ã€`imageQuality`ï¼ˆ50-95ï¼‰ã€`maxImageSize`ï¼ˆ960-2560pxï¼‰å‚æ•°
  - **MCP æ ‡å‡†æ ¼å¼**ï¼šå›¾ç‰‡ä½œä¸º MCP image content è¿”å›ï¼ŒClaude Desktop å¯ç›´æ¥æ˜¾ç¤º
  - Base64ç¼–ç è¾“å‡ºï¼Œç›´æ¥ä¾›Claude Visionåˆ†æ
  - æ”¯æŒæ‰¹é‡ä¸‹è½½ï¼ˆè®ºæ–‡æˆªå›¾ã€å›¾è¡¨ã€é…æ–¹å›¾ï¼‰

#### ğŸ¤– VLM å›¾ç‰‡åˆ†æï¼ˆå¯é€‰ï¼‰
- æ”¯æŒå¤šä¸ª VLM API æä¾›å•†ï¼ˆæ™ºå¢å¢ Qwen VLã€æ™ºè°± GLM-4Vï¼‰
  - è‡ªåŠ¨æå–å›¾ç‰‡ä¸­çš„æ–‡å­—ï¼ˆOCRï¼‰
  - ç”Ÿæˆç»“æ„åŒ–æè¿°ï¼ˆå¯¹è±¡ã€åœºæ™¯ã€ç±»å‹ï¼‰
  - é€‚åˆå¤§é‡æ–‡å­—æˆªå›¾çš„å¿«é€Ÿæå–
  - **ç”¨æˆ·å¯é€‰æ¨¡å¼**ï¼š
    - `imageMode: 'original'`ï¼ˆé»˜è®¤ï¼‰- è¿”å›å‹ç¼©åçš„åŸå§‹å›¾ç‰‡ Base64
    - `imageMode: 'vlm'` - ä½¿ç”¨ VLM åˆ†æå¹¶è¿”å›æ–‡å­—æè¿°
  - **API é…ç½®**ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š
    - æ™ºå¢å¢ï¼šè®¾ç½® `ZZZ_API_KEY` ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼Œæˆæœ¬çº¦ Â¥0.003/å¼ ï¼‰
    - æ™ºè°±æ¸…è¨€ï¼šè®¾ç½® `ZHIPU_API_KEY` ç¯å¢ƒå˜é‡ï¼ˆæˆæœ¬çº¦ Â¥0.0075/å¼ ï¼‰
  - ä¼˜å…ˆçº§ï¼šæ™ºå¢å¢ > æ™ºè°±æ¸…è¨€

### ğŸŒŸ æ ¸å¿ƒä¼˜åŠ¿

1. **é›¶æ‰‹åŠ¨å¤åˆ¶** - AIè‡ªåŠ¨è·å–URLå’Œå†…å®¹ï¼Œæ— éœ€äººå·¥ä»‹å…¥
2. **æ™ºèƒ½Tokenæå–** - è‡ªåŠ¨ç‚¹å‡»ç¬”è®°è·å–å¸¦`xsec_token`çš„å®Œæ•´URLï¼Œé¿å…403/404é”™è¯¯
3. **çœŸå®ç”¨æˆ·ID** - ç™»å½•æ—¶è‡ªåŠ¨æå–å¹¶ä¿å­˜ç”¨æˆ·IDï¼ˆ`604dbc13...`ï¼‰ï¼Œä¸å†ä½¿ç”¨`/me`å ä½ç¬¦
4. **æ™ºèƒ½å›¾ç‰‡å‹ç¼©** - å›¾ç‰‡è‡ªåŠ¨å‹ç¼©èŠ‚çœ 85% ä¼ è¾“ä½“ç§¯ï¼Œé¿å… MCP æ¶ˆæ¯æˆªæ–­
5. **MCP æ ‡å‡†æ˜¾ç¤º** - å›¾ç‰‡ä»¥ MCP image content æ ¼å¼è¿”å›ï¼ŒClaude Desktop ç›´æ¥å¯è§†åŒ–æ˜¾ç¤º
6. **Claude Visionæ”¯æŒ** - å‹ç¼©åçš„å›¾ç‰‡è´¨é‡ä»è¶³å¤Ÿ AI åˆ†æè®ºæ–‡å›¾è¡¨ã€å…¬å¼ã€æµç¨‹å›¾
7. **8+å®¢æˆ·ç«¯å…¼å®¹** - Claude Desktopã€Claude Codeã€Cursorã€VSCode Clineã€Continue.devã€Gemini CLIç­‰
8. **é¦–æ¬¡ç™»å½•å¼•å¯¼** - `rednote-init`å‘½ä»¤æä¾›å‹å¥½çš„ç™»å½•å‘å¯¼

---

## ğŸ“¦ å¿«é€Ÿå¼€å§‹ï¼ˆ3åˆ†é’Ÿï¼‰

### å®‰è£…

```bash
# å…¨å±€å®‰è£…
npm install -g rednote-mind-mcp

# é¦–æ¬¡ä½¿ç”¨ï¼Œè¿è¡Œç™»å½•å‘å¯¼
rednote-init
# æˆ–
rednote-mind-mcp init
```

**ç™»å½•å‘å¯¼æµç¨‹**ï¼š
1. è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨çª—å£
2. å¯¼èˆªåˆ°å°çº¢ä¹¦é¦–é¡µ
3. ä½ æ‰«ç æˆ–å¯†ç ç™»å½•ï¼ˆ60ç§’å†…å®Œæˆï¼‰
4. è‡ªåŠ¨ä¿å­˜cookiesåˆ°`~/.mcp/rednote/cookies.json`
5. è‡ªåŠ¨æå–ç”¨æˆ·IDå¹¶ä¿å­˜åˆ°`~/.mcp/rednote/config.json`

### å¯é€‰ï¼šé…ç½® VLM åŠŸèƒ½

å¦‚éœ€å¯ç”¨æ™ºèƒ½å›¾ç‰‡åˆ†æï¼ˆVLM æ¨¡å¼ï¼‰ï¼Œå¯ä»¥é€‰æ‹©é…ç½®ä»¥ä¸‹ä»»ä¸€ APIï¼š

#### æ”¯æŒçš„ VLM æä¾›å•†

| æä¾›å•† | ç¯å¢ƒå˜é‡ | æ¨¡å‹ | æˆæœ¬ | è·å–æ–¹å¼ |
|--------|---------|------|------|---------|
| **æ™ºå¢å¢** (æ¨è) | `ZZZ_API_KEY` | Qwen VL | Â¥0.001-0.002/1K tokens | [æ™ºå¢å¢å®˜ç½‘](https://zhizengzeng.com) |
| **æ™ºè°±æ¸…è¨€** | `ZHIPU_API_KEY` | GLM-4V | Â¥0.005/1K tokens | [æ™ºè°±å¼€æ”¾å¹³å°](https://bigmodel.cn) |

**ä¼˜å…ˆçº§**ï¼šå¦‚æœåŒæ—¶é…ç½®å¤šä¸ª API Keyï¼Œç³»ç»ŸæŒ‰ä»¥ä¸‹é¡ºåºä½¿ç”¨ï¼šæ™ºå¢å¢ > æ™ºè°±æ¸…è¨€

#### é…ç½®æ­¥éª¤

1. **è·å– API Key**ï¼š
   - **æ™ºå¢å¢**ï¼šè®¿é—® [zhizengzeng.com](https://zhizengzeng.com) æ³¨å†Œè·å–
   - **æ™ºè°±æ¸…è¨€**ï¼šè®¿é—® [bigmodel.cn](https://bigmodel.cn/usercenter/proj-mgmt/apikeys) è·å–

2. **è®¾ç½®ç¯å¢ƒå˜é‡**ï¼š

   **macOS/Linux**ï¼š
   ```bash
   # åœ¨ ~/.zshrc æˆ– ~/.bashrc ä¸­æ·»åŠ ï¼ˆäºŒé€‰ä¸€æˆ–åŒæ—¶é…ç½®ï¼‰
   export ZZZ_API_KEY="your_zzz_api_key_here"
   export ZHIPU_API_KEY="your_zhipu_api_key_here"

   # é‡æ–°åŠ è½½é…ç½®
   source ~/.zshrc  # æˆ– source ~/.bashrc
   ```

   **Windows**ï¼š
   ```cmd
   # åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­æ·»åŠ ï¼ˆäºŒé€‰ä¸€æˆ–åŒæ—¶é…ç½®ï¼‰
   setx ZZZ_API_KEY "your_zzz_api_key_here"
   setx ZHIPU_API_KEY "your_zhipu_api_key_here"
   ```

3. **é‡å¯ MCP å®¢æˆ·ç«¯**ï¼šé‡å¯ Claude Desktop æˆ–å…¶ä»–å®¢æˆ·ç«¯ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ

#### VLM åŠŸèƒ½è¯´æ˜

- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨æˆ·åœ¨ `get_note_content` å·¥å…·ä¸­ä¸»åŠ¨é€‰æ‹© `imageMode: 'vlm'`
- **åŠŸèƒ½**ï¼šå°†å›¾ç‰‡å‘é€åˆ° VLM APIï¼Œæå–å›¾ç‰‡ä¸­çš„æ–‡å­—å’Œç»“æ„åŒ–æè¿°
- **ä¼˜åŠ¿**ï¼šé€‚åˆå¤§é‡æ–‡å­—æˆªå›¾çš„å¿«é€Ÿæå–ï¼Œæ— éœ€ä¼ è¾“å®Œæ•´å›¾ç‰‡ç»™ Claude
- **æˆæœ¬**ï¼šæ™ºå¢å¢çº¦ Â¥0.003/å¼ å›¾ç‰‡ï¼Œæ™ºè°±çº¦ Â¥0.0075/å¼ å›¾ç‰‡

### é…ç½®MCPå®¢æˆ·ç«¯

**é…ç½®è¯´æ˜**ï¼š
- æ‰€æœ‰é…ç½®ä½¿ç”¨æ ‡å‡†çš„ `npx` æ–¹å¼è°ƒç”¨ï¼Œç¡®ä¿è·¨å¹³å°å…¼å®¹æ€§
- `-y` å‚æ•°è®© npx è·³è¿‡ç¡®è®¤æç¤ºï¼Œè‡ªåŠ¨å®‰è£…æˆ–ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
- é…ç½®åéœ€è¦**å®Œå…¨é€€å‡ºå¹¶é‡å¯**å®¢æˆ·ç«¯æ‰èƒ½ç”Ÿæ•ˆ

<details>
<summary><strong>Claude Desktop</strong>ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

#### macOS
ç¼–è¾‘ `~/Library/Application Support/Claude/claude_desktop_config.json`ï¼š

```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

#### Windows
ç¼–è¾‘ `%APPDATA%\Claude\claude_desktop_config.json`ï¼š

```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

#### Linux
ç¼–è¾‘ `~/.config/Claude/claude_desktop_config.json`ï¼š

```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

**é‡å¯Claude Desktopç”Ÿæ•ˆ**

</details>

<details>
<summary><strong>Claude Code</strong>ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

åœ¨Claude Codeè®¾ç½®ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

</details>

<details>
<summary><strong>VS Code (Clineæ’ä»¶)</strong>ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

1. å®‰è£…Clineæ’ä»¶
2. åœ¨VS Codeè®¾ç½®ä¸­æœç´¢"Cline MCP"
3. æ·»åŠ ï¼š

```json
{
  "cline.mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

</details>

<details>
<summary><strong>Cursor</strong>ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

1. æ‰“å¼€Cursor Settings â†’ Features â†’ MCP Servers
2. æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

</details>

<details>
<summary><strong>Continue.dev</strong>ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

ç¼–è¾‘`~/.continue/config.json`ï¼š

```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

</details>

<details>
<summary><strong>å…¶ä»–MCPå®¢æˆ·ç«¯</strong>ï¼ˆGemini CLIã€OpenAI CLIç­‰ï¼‰</summary>

é…ç½®æ–¹å¼ç±»ä¼¼ï¼Œæ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["-y", "rednote-mind-mcp"]
    }
  }
}
```

</details>

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šæ•´ç†æ”¶è—å¤¹ä¸­çš„AIè®ºæ–‡

**åœ¨Claude Desktopä¸­å‘é€ï¼š**

```
è¯·åˆ†ææˆ‘æ”¶è—å¤¹ä¸­æœ€è¿‘15ç¯‡ç¬”è®°ï¼Œç­›é€‰å‡ºAIç›¸å…³çš„è®ºæ–‡åˆ†äº«ï¼Œ
æå–ï¼šè®ºæ–‡æ ‡é¢˜ã€æ ¸å¿ƒè§‚ç‚¹ã€å…³é”®å›¾è¡¨ã€å‚è€ƒä»·å€¼ã€‚
ç”Ÿæˆç»“æ„åŒ–è¡¨æ ¼ã€‚
```

**Claudeè‡ªåŠ¨æ‰§è¡Œï¼š**

1. è°ƒç”¨ `get_batch_notes_from_favorites` (limit=15, includeImages=true)
2. ä½¿ç”¨Claude Visionåˆ†æè®ºæ–‡æˆªå›¾ä¸­çš„å›¾è¡¨å’Œå…¬å¼
3. ç”Ÿæˆç»“æ„åŒ–æŠ¥å‘Šï¼š

| ç¬”è®°æ ‡é¢˜ | è®ºæ–‡åç§° | æ ¸å¿ƒè§‚ç‚¹ | å…³é”®å›¾è¡¨ | å‚è€ƒä»·å€¼ |
|---------|---------|---------|---------|---------|
| GPT-4oè§£è¯» | GPT-4 Technical Report | å¤šæ¨¡æ€æ¶æ„... | Transformeræ¶æ„å›¾ | â­â­â­â­â­ |
| Diffusionæ¨¡å‹åŸç† | Denoising Diffusion... | å»å™ªæ‰©æ•£è¿‡ç¨‹... | è®­ç»ƒæµç¨‹å›¾ | â­â­â­â­ |

---

### ç¤ºä¾‹2ï¼šæœç´¢å¹¶åˆ†æçƒ­é—¨æ•™ç¨‹

**åœ¨Claude Desktopä¸­å‘é€ï¼š**

```
æœç´¢"Pythonæ•°æ®åˆ†æ"ï¼Œè·å–æœ€çƒ­é—¨çš„10æ¡ç¬”è®°ï¼Œ
æ€»ç»“å¸¸è§çš„å·¥å…·å’ŒæŠ€æœ¯æ ˆã€‚
```

**Claudeè‡ªåŠ¨æ‰§è¡Œï¼š**

1. è°ƒç”¨ `search_notes_by_keyword` (keyword="Pythonæ•°æ®åˆ†æ", limit=10, sortType="popular")
2. å¯¹æ¯ç¯‡ç¬”è®°è°ƒç”¨ `get_note_content` è·å–å®Œæ•´å†…å®¹
3. åˆ†æå¹¶ç”ŸæˆæŠ¥å‘Šï¼š

**å¸¸è§å·¥å…·æ ˆ**ï¼š
- Pandasï¼ˆ10/10ç¯‡æåŠï¼‰
- NumPyï¼ˆ9/10ç¯‡ï¼‰
- Matplotlib/Seabornï¼ˆ7/10ç¯‡ï¼‰
- Jupyter Notebookï¼ˆ6/10ç¯‡ï¼‰

**æ¨èå­¦ä¹ è·¯å¾„**ï¼š
1. å…¥é—¨ï¼šPandasåŸºç¡€æ“ä½œï¼ˆç¬”è®°1ã€3ã€5ï¼‰
2. è¿›é˜¶ï¼šæ•°æ®æ¸…æ´—ä¸é¢„å¤„ç†ï¼ˆç¬”è®°2ã€4ï¼‰
3. å¯è§†åŒ–ï¼šå›¾è¡¨åˆ¶ä½œæŠ€å·§ï¼ˆç¬”è®°7ã€8ï¼‰

---

### ç¤ºä¾‹3ï¼šä½¿ç”¨ VLM åˆ†æå›¾ç‰‡æ–‡å­—

**åœºæ™¯**ï¼šè®ºæ–‡ç¬”è®°åŒ…å«å¤§é‡å…¬å¼å’Œè¡¨æ ¼æˆªå›¾ï¼Œå¸Œæœ›ç›´æ¥æå–æ–‡å­—å†…å®¹è€ŒéæŸ¥çœ‹å›¾ç‰‡ã€‚

**å‰æ**ï¼šå·²é…ç½® `ZZZ_API_KEY` æˆ– `ZHIPU_API_KEY` ç¯å¢ƒå˜é‡

**åœ¨Claude Desktopä¸­å‘é€ï¼š**

```
è·å–ç¬”è®° https://www.xiaohongshu.com/explore/xxx?xsec_token=...ï¼Œ
ä½¿ç”¨ VLM æ¨¡å¼åˆ†æå›¾ç‰‡ä¸­çš„æ–‡å­—å’Œå†…å®¹ï¼Œä¸è¦è¿”å›åŸå›¾ã€‚
```

**Claude ä¼šè°ƒç”¨ï¼š**
```json
{
  "noteUrl": "https://www.xiaohongshu.com/explore/xxx?xsec_token=...",
  "imageMode": "vlm"
}
```

**è¿”å›ç»“æœç¤ºä¾‹ï¼š**
```markdown
# ç¬”è®°æ ‡é¢˜

ğŸ” ä½¿ç”¨ æ™ºå¢å¢ VLM (qwen3-vl-235b-a22b-thinking) åˆ†æå›¾ç‰‡...

---
## ğŸ” VLM å›¾ç‰‡åˆ†æç»“æœ

å…±åˆ†æ 3 å¼ å›¾ç‰‡ï¼š

### å›¾ç‰‡ 1
è¿™å¼ å›¾ç‰‡å±•ç¤ºäº†ä¸€ä¸ªæ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ¶æ„å›¾ï¼ŒåŒ…å«è¾“å…¥å±‚ã€å¤šä¸ªéšè—å±‚å’Œè¾“å‡ºå±‚ã€‚

**æå–çš„æ–‡å­—å†…å®¹**:
Input Layer â†’ Hidden Layer 1 (256 units) â†’ Hidden Layer 2 (128 units) â†’ Output Layer

**æ£€æµ‹åˆ°çš„å…ƒç´ **: æµç¨‹å›¾, ç¥ç»ç½‘ç»œæ¶æ„, ç®­å¤´, æ–‡æœ¬æ ‡æ³¨

### å›¾ç‰‡ 2
åŒ…å«æ•°å­¦å…¬å¼çš„æˆªå›¾ï¼Œä¸»è¦æ˜¯æŸå¤±å‡½æ•°çš„å®šä¹‰ã€‚

**æå–çš„æ–‡å­—å†…å®¹**:
Loss = âˆ‘(y_pred - y_true)Â²
...
```

---

### ç¤ºä¾‹4ï¼šè‡ªå®šä¹‰å›¾ç‰‡å‹ç¼©è´¨é‡

**é«˜è´¨é‡å›¾ç‰‡ï¼ˆæ–‡å­—æˆªå›¾ï¼‰ï¼š**

```
è·å–ç¬”è®° https://www.xiaohongshu.com/explore/xxx?xsec_token=...ï¼Œ
ä½¿ç”¨é«˜è´¨é‡å›¾ç‰‡å‹ç¼©ï¼ˆimageQuality=85ï¼‰ï¼Œä»¥ä¾¿æ¸…æ™°è¯†åˆ«å›¾ç‰‡ä¸­çš„ä»£ç å’Œæ–‡å­—ã€‚
```

Claude ä¼šè°ƒç”¨ï¼š
```json
{
  "noteUrl": "...",
  "compressImages": true,
  "imageQuality": 85,
  "maxImageSize": 2560
}
```

**å¿«é€Ÿé¢„è§ˆï¼ˆä½å¸¦å®½ç¯å¢ƒï¼‰ï¼š**

```
è·å–æˆ‘æ”¶è—å¤¹å‰30ç¯‡ç¬”è®°çš„æ¦‚è§ˆï¼Œå›¾ç‰‡ä½¿ç”¨ä½è´¨é‡å‹ç¼©ä»¥åŠ å¿«é€Ÿåº¦ã€‚
```

Claude ä¼šä½¿ç”¨ï¼š
```json
{
  "limit": 30,
  "includeImages": true,
  "compressImages": true,
  "imageQuality": 60,
  "maxImageSize": 1280
}
```

**å‹ç¼©æ•ˆæœ**ï¼š
- é»˜è®¤è®¾ç½®ï¼ˆquality=75, size=1920ï¼‰ï¼šå•å¼  2MB â†’ 250KBï¼ŒèŠ‚çœ 87%
- é«˜è´¨é‡è®¾ç½®ï¼ˆquality=85, size=2560ï¼‰ï¼šå•å¼  2MB â†’ 400KBï¼ŒèŠ‚çœ 80%
- å¿«é€Ÿé¢„è§ˆï¼ˆquality=60, size=1280ï¼‰ï¼šå•å¼  2MB â†’ 150KBï¼ŒèŠ‚çœ 92%

---

### ç¤ºä¾‹4ï¼šç¾é£Ÿèœè°±æ•´ç†

**åœ¨Claude Desktopä¸­å‘é€ï¼š**

```
æˆ‘æ”¶è—äº†20ç¯‡å·èœèœè°±ç¬”è®°ï¼Œè¯·å¸®æˆ‘æ•´ç†æˆæ ‡å‡†åŒ–é£Ÿè°±ï¼Œ
åŒ…æ‹¬ï¼šèœåã€é£Ÿææ¸…å•ã€æ­¥éª¤ã€çƒ¹é¥ªæ—¶é—´ã€‚
ä½¿ç”¨å›¾ç‰‡è¯†åˆ«æå–é…æ–™è¡¨å’Œæ­¥éª¤å›¾ã€‚
```

**Claudeè‡ªåŠ¨æ‰§è¡Œï¼š**

1. è°ƒç”¨ `get_batch_notes_from_favorites` (limit=20, includeImages=true)
2. ä½¿ç”¨Claude Visionè¯†åˆ«ï¼š
   - é…æ–™è¡¨å›¾ç‰‡ â†’ æå–é£Ÿæå’Œç”¨é‡
   - æ­¥éª¤å›¾ç‰‡ â†’ ç†è§£çƒ¹é¥ªæµç¨‹
3. ç”Ÿæˆæ ‡å‡†åŒ–é£Ÿè°±åˆé›†ï¼ˆMarkdownæ ¼å¼ï¼‰

---

## ğŸ” ä½¿ç”¨MCP Inspectorè°ƒè¯•

MCP Inspectoræ˜¯å®˜æ–¹è°ƒè¯•å·¥å…·ï¼Œå¯äº¤äº’å¼æµ‹è¯•æ‰€æœ‰å·¥å…·ã€‚

### å®‰è£…

```bash
npm install -g @modelcontextprotocol/inspector
```

### å¯åŠ¨è°ƒè¯•

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å…¨å±€å‘½ä»¤
mcp-inspector rednote-mind-mcp

# æ–¹æ³•2ï¼šä½¿ç”¨æœ¬åœ°æ„å»º
mcp-inspector node /path/to/dist/server.js
```

### è°ƒè¯•ç•Œé¢åŠŸèƒ½

å¯åŠ¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œæ˜¾ç¤ºäº¤äº’å¼ç•Œé¢ï¼š

#### 1. Toolsæ ‡ç­¾é¡µ
- æŸ¥çœ‹æ‰€æœ‰7ä¸ªå·¥å…·
- æŸ¥çœ‹å‚æ•°å®šä¹‰å’ŒJSON Schema
- ç‚¹å‡»å·¥å…·åæŸ¥çœ‹è¯¦ç»†æ–‡æ¡£

#### 2. Test ToolåŠŸèƒ½
**ç¤ºä¾‹ï¼šæµ‹è¯•æœç´¢åŠŸèƒ½**

1. é€‰æ‹©å·¥å…·ï¼š`search_notes_by_keyword`
2. å¡«å†™å‚æ•°ï¼ˆJSONæ ¼å¼ï¼‰ï¼š
   ```json
   {
     "keyword": "AIè®ºæ–‡",
     "limit": 10,
     "sortType": "popular"
   }
   ```
3. ç‚¹å‡»"Call Tool"æ‰§è¡Œ
4. æŸ¥çœ‹è¿”å›ç»“æœï¼ˆåŒ…å«å¸¦xsec_tokençš„URLï¼‰

#### 3. Logsæ ‡ç­¾é¡µ
- å®æ—¶æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
- æŸ¥çœ‹`console.error`è¾“å‡ºï¼ˆè¿›åº¦ä¿¡æ¯ï¼‰
- è°ƒè¯•é”™è¯¯å’Œè­¦å‘Š

### è°ƒè¯•ç¤ºä¾‹

**ç¤ºä¾‹1ï¼šæµ‹è¯•ç™»å½•çŠ¶æ€**

```bash
mcp-inspector rednote-mind-mcp
# åœ¨ç•Œé¢ä¸­é€‰æ‹© check_login_status
# ç‚¹å‡»Call Toolï¼ˆæ— éœ€å‚æ•°ï¼‰
# æŸ¥çœ‹è¿”å›ï¼š{"isLoggedIn": true, "message": "å·²ç™»å½•"}
```

**ç¤ºä¾‹2ï¼šæµ‹è¯•ç¬”è®°å†…å®¹è·å–**

```bash
mcp-inspector rednote-mind-mcp
# é€‰æ‹© get_note_content
# å‚æ•°ï¼š
# {
#   "noteUrl": "https://www.xiaohongshu.com/explore/xxx?xsec_token=yyy",
#   "includeImages": true,
#   "includeData": true
# }
# æŸ¥çœ‹è¿”å›çš„å®Œæ•´ç¬”è®°å†…å®¹å’ŒBase64å›¾ç‰‡
```

### è°ƒè¯•æŠ€å·§

1. **å…ˆæµ‹è¯•ç®€å•å·¥å…·** - ä»`check_login_status`å¼€å§‹
2. **ä½¿ç”¨å°æ•°æ®é‡** - æµ‹è¯•æ‰¹é‡å·¥å…·æ—¶å…ˆç”¨`limit: 2`
3. **ä¿å­˜æµ‹è¯•ç”¨ä¾‹** - æˆåŠŸçš„å‚æ•°å¯å¤åˆ¶ä¿å­˜
4. **ç›‘æ§æ—¥å¿—** - æ‰€æœ‰`console.error`è¾“å‡ºéƒ½åœ¨Logsä¸­æ˜¾ç¤º

---

## â“ å¸¸è§é—®é¢˜

### Q1: é¦–æ¬¡ä½¿ç”¨éœ€è¦åšä»€ä¹ˆï¼Ÿ

è¿è¡Œ `rednote-init` æˆ– `rednote-mind-mcp init`ï¼Œæ‰«ç ç™»å½•å°çº¢ä¹¦ã€‚Cookieså’Œç”¨æˆ·IDä¼šè‡ªåŠ¨ä¿å­˜åˆ°`~/.mcp/rednote/`ç›®å½•ã€‚

### Q2: Cookiesè¿‡æœŸæ€ä¹ˆåŠï¼Ÿ

å†æ¬¡è¿è¡Œ `rednote-init` é‡æ–°ç™»å½•ï¼Œæˆ–åœ¨Claude Desktopä¸­ç›´æ¥è¯´"ä½¿ç”¨loginå·¥å…·é‡æ–°ç™»å½•å°çº¢ä¹¦"ã€‚

### Q3: ä¸ºä»€ä¹ˆè¦è‡ªåŠ¨ç‚¹å‡»æå–xsec_tokenï¼Ÿ

å°çº¢ä¹¦çš„å®‰å…¨æœºåˆ¶è¦æ±‚ç¬”è®°URLå¸¦`xsec_token`å‚æ•°æ‰èƒ½è®¿é—®å†…å®¹ã€‚æœ¬å·¥å…·é€šè¿‡è‡ªåŠ¨ç‚¹å‡»æ¯ä¸ªç¬”è®°é“¾æ¥ï¼Œæå–æµè§ˆå™¨è·³è½¬åçš„å®Œæ•´URLï¼ˆåŒ…å«tokenï¼‰ï¼Œç¡®ä¿`get_note_content`å·¥å…·èƒ½æˆåŠŸè®¿é—®ã€‚

### Q4: å¦‚ä½•éªŒè¯ç”¨æˆ·IDæ˜¯å¦æ­£ç¡®æå–ï¼Ÿ

è¿è¡Œç™»å½•åï¼Œæ£€æŸ¥`~/.mcp/rednote/config.json`æ–‡ä»¶ï¼š

```json
{
  "userId": "604dbc13000000000101f8b7"
}
```

å¦‚æœæ˜¾ç¤ºçš„æ˜¯`me`è€Œä¸æ˜¯24ä½IDï¼Œè¯´æ˜æå–å¤±è´¥ï¼Œè¯·é‡æ–°è¿è¡Œ`rednote-init`ã€‚

### Q5: æ”¯æŒå“ªäº›MCPå®¢æˆ·ç«¯ï¼Ÿ

æ‰€æœ‰æ”¯æŒMCPåè®®çš„AIå®¢æˆ·ç«¯ï¼š

- âœ… Claude Desktopï¼ˆå®˜æ–¹å®¢æˆ·ç«¯ï¼‰
- âœ… Claude Codeï¼ˆVS Codeä¸­çš„Claudeï¼‰
- âœ… VS Codeï¼ˆClineæ’ä»¶ï¼‰
- âœ… Cursorï¼ˆAIä»£ç ç¼–è¾‘å™¨ï¼‰
- âœ… Continue.devï¼ˆå¼€æºAIç¼–ç åŠ©æ‰‹ï¼‰
- âœ… OpenAI CLIï¼ˆå¦‚æœæ”¯æŒMCPï¼‰
- âœ… Gemini CLIï¼ˆå¦‚æœæ”¯æŒMCPï¼‰
- âœ… å…¶ä»–å®ç°MCPåè®®çš„å®¢æˆ·ç«¯

### Q6: Cookieä¿å­˜åœ¨å“ªé‡Œï¼Ÿ

- **macOS/Linux**: `~/.mcp/rednote/cookies.json` å’Œ `~/.mcp/rednote/config.json`
- **Windows**: `%USERPROFILE%\.mcp\rednote\cookies.json` å’Œ `config.json`

**å®‰å…¨æç¤º**ï¼šä¸è¦åˆ†äº«æˆ–åˆ é™¤è¿™äº›æ–‡ä»¶ï¼Œå®ƒä»¬æ˜¯ç™»å½•å‡­è¯ã€‚

### Q7: å¦‚ä½•è°ƒè¯•å·¥å…·ï¼Ÿ

ä½¿ç”¨MCP Inspectorï¼š

```bash
npm install -g @modelcontextprotocol/inspector
mcp-inspector rednote-mind-mcp
```

åœ¨æµè§ˆå™¨ä¸­äº¤äº’å¼æµ‹è¯•æ‰€æœ‰å·¥å…·ï¼ŒæŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚

### Q8: Playwrightå®‰è£…å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

æœ¬å·¥å…·ä¼šåœ¨å®‰è£…æ—¶è‡ªåŠ¨ä¸‹è½½Chromiumæµè§ˆå™¨ï¼ˆçº¦150MBï¼‰ã€‚å¦‚æœå¤±è´¥ï¼š

**ä½¿ç”¨å›½å†…é•œåƒ**ï¼š
```bash
PLAYWRIGHT_DOWNLOAD_HOST=https://npmmirror.com/mirrors/playwright/ npm install -g rednote-mind-mcp
```

**æ‰‹åŠ¨å®‰è£…**ï¼š
```bash
npm install -g rednote-mind-mcp
npx playwright install chromium
```

---

## ğŸ“š å®Œæ•´æ–‡æ¡£

- **[è®¾ç½®æŒ‡å—](./SETUP_GUIDE.md)** - è¯¦ç»†å®‰è£…å’Œé…ç½®æ­¥éª¤
- **[ä½¿ç”¨æŒ‡å—](./MCP_USAGE_GUIDE.md)** - æ‰€æœ‰7ä¸ªå·¥å…·çš„è¯¦ç»†ç”¨æ³•
- **[NPMå‘å¸ƒæŒ‡å—](./NPM_PUBLISH_GUIDE.md)** - å¼€å‘è€…å‘å¸ƒæµç¨‹

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

åŸºäº [RedNote-MCP](https://github.com/iFurySt/RedNote-MCP) å¼€å‘ï¼Œæ„Ÿè°¢åŸä½œè€… [@iFurySt](https://github.com/iFurySt)ã€‚

**æ”¹è¿›ç‚¹**ï¼š
- âœ… å¢å¼ºç”¨æˆ·ä½“éªŒï¼šé¦–æ¬¡ç™»å½•å¼•å¯¼ï¼ˆ`rednote-init`å‘½ä»¤ï¼‰
- âœ… æ™ºèƒ½Tokenæå–ï¼šè‡ªåŠ¨ç‚¹å‡»ç¬”è®°è·å–xsec_token
- âœ… çœŸå®ç”¨æˆ·IDï¼šè‡ªåŠ¨æå–å¹¶ä¿å­˜ï¼Œä¸å†ä½¿ç”¨`/me`å ä½ç¬¦
- âœ… å…¨å±€npmå®‰è£…ï¼šæ— éœ€å…‹éš†ä»“åº“ï¼Œ3æ¡å‘½ä»¤å®Œæˆé…ç½®
- âœ… 8+å®¢æˆ·ç«¯æ”¯æŒï¼šå®Œæ•´çš„MCPå®¢æˆ·ç«¯é›†æˆæ–‡æ¡£

---

## ğŸ“„ License

MIT License - è¯¦è§ [LICENSE](./LICENSE)

---

## ğŸ’¡ è®¾è®¡ç†å¿µ

**æ ¸å¿ƒå“²å­¦**ï¼šè®©AIæ¥å…¥ä½ çš„å°çº¢ä¹¦ï¼Œå°±åƒèƒ½å¤Ÿäº†è§£ä½ çš„å¤‡å¿˜å½•ä¸€æ ·ã€‚

- **é›¶æ‰‹åŠ¨å¤åˆ¶** - AIè‡ªåŠ¨è·å–URLå’Œå†…å®¹
- **æ™ºèƒ½å®¹é”™** - è‡ªåŠ¨æå–tokenå’Œç”¨æˆ·IDï¼Œé¿å…403/404é”™è¯¯
- **é¦–æ¬¡ä½“éªŒå‹å¥½** - `rednote-init`å¼•å¯¼å¼ç™»å½•
- **å¼€å‘è€…å‹å¥½** - MCP Inspectoräº¤äº’å¼è°ƒè¯•

**æŠ€æœ¯äº®ç‚¹**ï¼š

1. **è‡ªåŠ¨Tokenæå–** - é€šè¿‡Playwrightè‡ªåŠ¨ç‚¹å‡»ç¬”è®°ï¼Œè·å–æµè§ˆå™¨è·³è½¬åçš„å®Œæ•´URLï¼ˆå«xsec_tokenï¼‰
2. **çœŸå®ç”¨æˆ·ID** - ç™»å½•æ—¶è®¿é—®`/user/profile/me`ï¼Œæå–é‡å®šå‘åçš„çœŸå®IDå¹¶ä¿å­˜
3. **Claude Visioné›†æˆ** - å›¾ç‰‡Base64è¾“å‡ºï¼ŒAIèƒ½åˆ†æè®ºæ–‡å›¾è¡¨ã€èœè°±æ­¥éª¤å›¾
4. **å…¨å±€å‘½ä»¤** - npmå…¨å±€å®‰è£…åï¼Œ`rednote-mind-mcp`å’Œ`rednote-init`å…¨å±€å¯ç”¨

---

**æœ€åæ›´æ–°**: 2025-10-23
**ç‰ˆæœ¬**: 0.2.5
**GitHub**: [https://github.com/CopeeeTang/rednote-mind-mcp](https://github.com/CopeeeTang/rednote-mind-mcp)

---

**ç«‹å³å¼€å§‹** â†’ è¿è¡Œ `npm install -g rednote-mind-mcp && rednote-init` ğŸš€
